<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="app.title">Dating App</title>
    <link rel="stylesheet" href="css/home.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Home Screen -->
        <div class="screen active" id="home-screen">
            <div class="profile-card">
                <div class="card-header">
                    <h2 class="card-title" data-translate="home.discoverTitle">Discover</h2>
                    <p class="card-subtitle" data-translate="home.discoverSubtitle">Find like-minded people</p>
                </div>

                <div class="user-profile">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="profile-name-info">
                            <!-- Placeholder data - in a real app, this would be dynamic -->
                            <h3>Sarah, 28</h3>
                            <p>New York, USA</p>
                        </div>
                    </div>

                    <div class="profile-details">
                        <div class="detail-item">
                            <i class="fas fa-university"></i>
                             <!-- Placeholder data -->
                            <p>Columbia University</p>
                        </div>

                        <div class="detail-item">
                            <i class="fas fa-heart"></i>
                             <!-- Placeholder data -->
                            <p>Art, Travel, Reading, Hiking</p>
                        </div>
                    </div>

                    <!-- Separate Bio Section -->
                    <div class="profile-bio-section">
                        <h3 data-translate="home.section.bio"><i class="fas fa-quote-left"></i> Bio</h3>
                        <!-- Placeholder data -->
                        <p class="bio">Passionate about photography, hiking, and trying new coffee shops. Looking for someone to share adventures with!</p>
                    </div>

                    <!-- Interests Section -->
                    <div class="interests-section">
                        <h3 data-translate="home.section.interests"><i class="fas fa-heart"></i> Interests</h3>
                        <div class="tags">
                            <!-- Placeholder data - tags could also be dynamic -->
                            <span class="tag"><i class="fas fa-camera"></i> <span data-translate="home.tag.photography">Photography</span></span>
                            <span class="tag"><i class="fas fa-mountain"></i> <span data-translate="home.tag.hiking">Hiking</span></span>
                            <span class="tag"><i class="fas fa-coffee"></i> <span data-translate="home.tag.coffee">Coffee</span></span>
                            <span class="tag"><i class="fas fa-plane"></i> <span data-translate="home.tag.travel">Travel</span></span>
                            <span class="tag"><i class="fas fa-book"></i> <span data-translate="home.tag.reading">Reading</span></span>
                        </div>
                    </div>
                </div>

                <!-- Action buttons are correctly placed below the user-profile div -->
                <div class="action-buttons">
                    <button class="dislike-btn">
                        <i class="fas fa-times"></i>
                    </button>
                    <button class="like-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Chat Screen -->
        <div class="screen" id="chat-screen">
            <div class="coming-soon">
                <h2 data-translate="chat.title">Chat</h2>
                <p data-translate="chat.comingSoon">Coming Soon...</p>
                <p data-translate="chat.underDevelopment">Our messaging feature is under development.</p>
            </div>
        </div>

        <!-- Profile Screen -->
        <div class="screen" id="profile-screen">
            <div class="profile-settings">
                <h2 data-translate="profile.title">Profile Settings</h2>

                <div class="settings-section">
                    <h3 data-translate="profile.editProfile">‚úèÔ∏è Edit Profile</h3>
                    <div class="form-group">
                        <label for="name" data-translate="profile.nameLabel">Name</label>
                        <!-- Placeholder data -->
                        <input type="text" id="name" value="John Doe">
                    </div>
                    <div class="form-group">
                        <label for="bio" data-translate="profile.bioLabel">Bio</label>
                         <!-- Placeholder data -->
                        <textarea id="bio">I love hiking and outdoor activities.</textarea>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 data-translate="profile.filterPreferences">üîç Filter Preferences</h3>
                    <div class="form-group">
                        <label data-translate="profile.ageRangeLabel">Age Range</label>
                        <div class="range-inputs">
                            <input type="number" min="18" max="100" value="18">
                            <span data-translate="profile.rangeSeparator">to</span>
                            <input type="number" min="18" max="100" value="35">
                        </div>
                    </div>
                    <div class="form-group">
                        <label data-translate="profile.distanceLabel">Distance (km)</label>
                        <input type="range" min="1" max="100" value="25">
                        <!-- The value here is dynamic, we translate the label and possibly "km" if needed -->
                        <span class="range-value">25 km</span>
                    </div>
                </div>

                <div class="settings-section">
                    <h3 data-translate="profile.languageLabel">üåê Language</h3>
                    <div class="language-options">
                        <!-- data-lang attribute holds the language code -->
                        <!-- Text content holds the language name in its own language -->
                        <div class="language-option" data-lang="en">English</div>
                        <div class="language-option" data-lang="ru">–†—É—Å—Å–∫–∏–π</div>
                        <div class="language-option" data-lang="uz">O'zbek</div>
                        <!-- Add 'selected' class via JS based on cookie -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation Bar -->
        <div class="bottom-nav">
            <div class="nav-item active" data-screen="home-screen">
                <div class="nav-icon home-icon">
                    <i class="fas fa-home"></i>
                </div>
                <span data-translate="nav.home">Home</span>
            </div>
            <!-- Removed the 'explore' nav item as it had no corresponding screen -->
            <div class="nav-item" data-screen="chat-screen">
                <div class="nav-icon chat-icon">
                    <i class="fas fa-comment"></i>
                </div>
                <span data-translate="nav.chat">Chat</span>
            </div>
            <div class="nav-item" data-screen="profile-screen">
                <div class="nav-icon profile-icon">
                    <i class="fas fa-user"></i>
                </div>
                <span data-translate="nav.profile">Profile</span>
            </div>
        </div>
    </div>

    <script>
        // --- Cookie Functions ---
        function setCookie(name, value, days) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + (value || "") + expires + "; path=/";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for(let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
        }

        // --- Translations ---
        const translations = {
            en: {
                "app.title": "Dating App",
                "nav.home": "Home",
                "nav.chat": "Chat",
                "nav.profile": "Profile",
                "home.discoverTitle": "Discover",
                "home.discoverSubtitle": "Find like-minded people",
                "home.section.bio": "Bio",
                "home.section.interests": "Interests",
                "home.tag.photography": "Photography",
                "home.tag.hiking": "Hiking",
                "home.tag.coffee": "Coffee",
                "home.tag.travel": "Travel",
                "home.tag.reading": "Reading",
                "chat.title": "Chat",
                "chat.comingSoon": "Coming Soon...",
                "chat.underDevelopment": "Our messaging feature is under development.",
                "profile.title": "Profile Settings",
                "profile.editProfile": "‚úèÔ∏è Edit Profile",
                "profile.nameLabel": "Name",
                "profile.bioLabel": "Bio",
                "profile.filterPreferences": "üîç Filter Preferences",
                "profile.ageRangeLabel": "Age Range",
                "profile.rangeSeparator": "to",
                "profile.distanceLabel": "Distance (km)",
                "profile.languageLabel": "üåê Language",
                 // Language names displayed in options (in their own language)
                "lang.en": "English",
                "lang.ru": "–†—É—Å—Å–∫–∏–π",
                "lang.uz": "O'zbek"
            },
            ru: {
                 "app.title": "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–Ω–∞–∫–æ–º—Å—Ç–≤",
                "nav.home": "–ì–ª–∞–≤–Ω–∞—è",
                "nav.chat": "–ß–∞—Ç",
                "nav.profile": "–ü—Ä–æ—Ñ–∏–ª—å",
                "home.discoverTitle": "–ù–∞–π—Ç–∏",
                "home.discoverSubtitle": "–ù–∞–π–¥–∏—Ç–µ –±–ª–∏–∑–∫–∏—Ö –ø–æ –¥—É—Ö—É –ª—é–¥–µ–π",
                "home.section.bio": "–û —Å–µ–±–µ",
                "home.section.interests": "–ò–Ω—Ç–µ—Ä–µ—Å—ã",
                "home.tag.photography": "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è",
                "home.tag.hiking": "–ü–æ—Ö–æ–¥—ã",
                "home.tag.coffee": "–ö–æ—Ñ–µ",
                "home.tag.travel": "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è",
                "home.tag.reading": "–ß—Ç–µ–Ω–∏–µ",
                "chat.title": "–ß–∞—Ç",
                "chat.comingSoon": "–°–∫–æ—Ä–æ...",
                "chat.underDevelopment": "–ù–∞—à –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.",
                "profile.title": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è",
                "profile.editProfile": "‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å",
                "profile.nameLabel": "–ò–º—è",
                "profile.bioLabel": "–û —Å–µ–±–µ",
                "profile.filterPreferences": "üîç –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞",
                "profile.ageRangeLabel": "–í–æ–∑—Ä–∞—Å—Ç–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω",
                "profile.rangeSeparator": "–¥–æ",
                "profile.distanceLabel": "–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º)",
                "profile.languageLabel": "üåê –Ø–∑—ã–∫",
                 "lang.en": "English",
                "lang.ru": "–†—É—Å—Å–∫–∏–π",
                "lang.uz": "O'zbek"
            },
            uz: {
                 "app.title": "Tanishuv ilovasi",
                "nav.home": "Bosh sahifa",
                "nav.chat": "Chat",
                "nav.profile": "Profil",
                "home.discoverTitle": "Kashf etish",
                "home.discoverSubtitle": "Fikrlar yaqin odamlarni toping",
                "home.section.bio": "Men haqimda",
                "home.section.interests": "Qiziqishlar",
                "home.tag.photography": "Fotografiya",
                "home.tag.hiking": "Piyoda sayr",
                "home.tag.coffee": "Kofe",
                "home.tag.travel": "Sayohat",
                "home.tag.reading": "Kitob o'qish",
                "chat.title": "Chat",
                "chat.comingSoon": "Tez orada...",
                "chat.underDevelopment": "Bizning xabar almashish funksiyasi ishlab chiqilmoqda.",
                "profile.title": "Profil sozlamalari",
                "profile.editProfile": "‚úèÔ∏è Profilni tahrirlash",
                "profile.nameLabel": "Ism",
                "profile.bioLabel": "Men haqimda",
                "profile.filterPreferences": "üîç Filtrlash sozlamalari",
                "profile.ageRangeLabel": "Yosh oralig'i",
                "profile.rangeSeparator": "gacha",
                "profile.distanceLabel": "Masofa (km)",
                "profile.languageLabel": "üåê Til",
                 "lang.en": "English",
                "lang.ru": "–†—É—Å—Å–∫–∏–π",
                "lang.uz": "O'zbek"
            }
        };

        function translatePage(lang) {
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                     // Handle specific cases if needed (e.g., input placeholders)
                     if (element.tagName === 'INPUT' && element.type === 'text') {
                         // Not typically translating value attribute in this method,
                         // but if needed, you could set element.placeholder or similar
                     } else {
                         element.textContent = translations[lang][key];
                     }
                }
            });

            // Update language options text (display language name in target language)
             document.querySelectorAll('.language-option').forEach(option => {
                const langCode = option.getAttribute('data-lang');
                 if (translations[lang] && translations[lang]['lang.' + langCode]) {
                     option.textContent = translations[lang]['lang.' + langCode];
                 } else {
                     // Fallback to English name if translation is missing for the language option text itself
                      option.textContent = translations['en']['lang.' + langCode];
                 }
            });

            // Update the html lang attribute
            document.documentElement.lang = lang;
            // Update the document title separately as it's often not inside the body
             if (translations[lang] && translations[lang]['app.title']) {
                 document.title = translations[lang]['app.title'];
             } else {
                  document.title = translations['en']['app.title']; // Fallback
             }


            // Highlight the selected language option in the profile screen
            document.querySelectorAll('.language-option').forEach(option => {
                option.classList.remove('selected');
                if (option.getAttribute('data-lang') === lang) {
                    option.classList.add('selected');
                }
            });
        }

        // --- Initial Load & Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            // Get language from cookie, default to 'en'
            const savedLang = getCookie('lang');
            const initialLang = savedLang || 'en';

            // Translate the page initially
            translatePage(initialLang);

            // Navigation listener
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    // Remove active class from all screens and nav items
                    document.querySelectorAll('.screen').forEach(screen => {
                        screen.classList.remove('active');
                    });
                    document.querySelectorAll('.nav-item').forEach(navItem => {
                        navItem.classList.remove('active');
                    });

                    // Add active class to clicked nav item
                    this.classList.add('active');

                    // Show corresponding screen
                    const screenId = this.getAttribute('data-screen');
                    const targetScreen = document.getElementById(screenId);
                    if (targetScreen) {
                        targetScreen.classList.add('active');
                    } else {
                        // Handle case where screenId is invalid (like the old 'explore')
                        console.warn(`Screen with ID "${screenId}" not found.`);
                         // Optionally, navigate back to home or show an error screen
                         document.getElementById('home-screen').classList.add('active');
                         document.querySelector('.nav-item[data-screen="home-screen"]').classList.add('active');
                    }
                });
            });

            // Language selection listener in Profile screen
            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', function() {
                    const selectedLang = this.getAttribute('data-lang');
                    translatePage(selectedLang); // Translate immediately
                    setCookie('lang', selectedLang, 30); // Save preference for 30 days
                });
            });

            // Update range value display (optional but good UX)
             document.querySelector('input[type="range"]').addEventListener('input', function() {
                 const valueSpan = this.closest('.form-group').querySelector('.range-value');
                 // This text ' km' is currently static, could be translated if needed
                 valueSpan.textContent = this.value + ' km';
             });
        });
    </script>
</body>
</html>